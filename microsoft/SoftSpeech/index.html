<div style="text-align: center;">
<h1><strong>SoftSpeech: Unsupervised Duration Model In FastSpeech 2</strong></h1>
</div>

<div style="text-align: center;">
  <h3>Microsoft, China</h3>
</div>

<div style="text-align: center;">
  <h4>{yuanhyi,helei,peterpan,xwang,yuchao.zhang}@microsoft.com</h4>
</div>

<div style="text-align: left;">
  <h4>In this paper, we propose a neural Text-To-Speech (TTS) system SoftSpeech, which employs a novel soft length regulated duration attention based decoder. It learns the encoder output mapping to decoder output simultaneously from an unsupervised duration model (Soft-LengthRegulator) without the requirement of external duration information. The Soft-LengthRegulator is consist of a Feed-Forward Transformer (FFT) block with Conditional Layer Normalization (CLN), following a learned upsampling layer with multi-head attention and guided multi-head attention constraint, and it is integrated in each decoder layer and achieves accelerated training convergence and better naturalness within FastSpeech 2 framework. Soft Dynamic Time Warping (Soft-DTW) is adopted to align the mismatch spectrogram loss. Moreover, a Fine-Grained style Variational AutoEncoder (VAE) is designed to further improve the naturalness of synthesized speech. The experiments show SoftSpeech outperforms FastSpeech 2 in subjective tests, and can be successfully applied to minority languages with low resources.</h4>
</div>

<div style="text-align: center;">
<img src="./png/model strcuture.png"  alt="model structure" width="925" height="500" />
</div>

<div style="text-align: left;">
  <h3><strong>Multi-lingual Multi-speaker TTS task:</strong></h3>
</div>

<div style="text-align: left;">
  <table width="600" border="1" align="center">
  <tbody>
    <tr>
      <th scope="col">Voice</th>
      <th scope="col">Recording</th>
      <th scope="col">FastSpeech 2</th>
      <th scope="col">SoftSpeech</th>
    </tr>
    <tr>
      <th scope="row">Madarin Male</th>
      <td><audio src="./wav/shy/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/shy/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>看着江开张大着嘴，死不瞑目的面容，我先是觉得脖子后面，凉风嗖嗖直冒。<br><audio src="./wav/Madarin_Male_Yunye/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>就在几个小时之前，这个来自东北的大汉，还跟我谈笑风生，约定了回去之后，一定要去我们俩常去的那家烧烤摊好好搓上一顿。<audio src="./wav/Madarin_Male_Yunye/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>看着江开张大着嘴，死不瞑目的面容，我先是觉得脖子后面，凉风嗖嗖直冒。<br><audio src="./wav/Madarin_Male_Yunye/softspeech/TTS-Wave.1.wav" controls=""></audio><br>就在几个小时之前，这个来自东北的大汉，还跟我谈笑风生，约定了回去之后，一定要去我们俩常去的那家烧烤摊好好搓上一顿。<audio src="./wav/Madarin_Male_Yunye/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">Madarin Female</th>
      <td><audio src="./wav/gentle/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/gentle/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>4000光年外发现超高密度行星：质量为木星4倍。<br><audio src="./wav/Madarin_Female_XiaoXiao/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>解析1690年-2011年美国报业发展史。<audio src="./wav/Madarin_Female_XiaoXiao/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>4000光年外发现超高密度行星：质量为木星4倍。<br><audio src="./wav/Madarin_Female_XiaoXiao/softspeech/TTS-Wave.1.wav" controls=""></audio><br>解析1690年-2011年美国报业发展史。<audio src="./wav/Madarin_Female_XiaoXiao/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">English Male</th>
      <td><audio src="./wav/calm/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/calm/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>It’s simply the most fun part about teaching.<br><audio src="./wav/English_Male_Guy/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>Netanyahu has taken a more cautious approach to Gaza, saying he wants to avoid war if it is unnecessary.<audio src="./wav/English_Male_Guy/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>It’s simply the most fun part about teaching.<br><audio src="./wav/English_Male_Guy/softspeech/TTS-Wave.1.wav" controls=""></audio><br>Netanyahu has taken a more cautious approach to Gaza, saying he wants to avoid war if it is unnecessary.<audio src="./wav/English_Male_Guy/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">English Female</th>
      <td><audio src="./wav/nervous/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/nervous/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>There are strengths at all three levels of the defense.<br><audio src="./wav/English_Female_Eva/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>When what you've lost is so profound?<audio src="./wav/English_Female_Eva/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>There are strengths at all three levels of the defense.<br><audio src="./wav/English_Female_Eva/softspeech/TTS-Wave.1.wav" controls=""></audio><br>When what you've lost is so profound?<audio src="./wav/English_Female_Eva/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
  </tbody>
  </table>
</div>

<div style="text-align: left;">
  <h3><strong>Minority low resource TTS task:</strong></h3>
</div>
  
<div style="text-align: left;">
  <table width="600" border="1" align="center">
  <tbody>
    <tr>
      <th scope="col">Voice</th>
      <th scope="col">Recording</th>
      <th scope="col">FastSpeech 2</th>
      <th scope="col">SoftSpeech</th>
    </tr>
    <tr>
      <th scope="row">Estonian Male</th>
      <td><audio src="./wav/female1/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/female1/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Ameerika meedia vahendab, kuidas maruvihased rahvamassid süütavad ja rüüstavad hooneid ning loobivad korrakaitsjaid kividega.<br><audio src="./wav/Estonian_Male_Kert/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>Mängiti kaheksas alagrupis, edasi pääsesid iga grupi kolm esimest.<audio src="./wav/Estonian_Male_Kert/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Ameerika meedia vahendab, kuidas maruvihased rahvamassid süütavad ja rüüstavad hooneid ning loobivad korrakaitsjaid kividega.<br><audio src="./wav/Estonian_Male_Kert/softspeech/TTS-Wave.1.wav" controls=""></audio><br>Mängiti kaheksas alagrupis, edasi pääsesid iga grupi kolm esimest.<audio src="./wav/Estonian_Male_Kert/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">Estonian Female</th>
      <td><audio src="./wav/female2/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/female2/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Suurema osa oma elust veedab inimene paratamatult siseruumides, mistõttu on äärmiselt oluline ruumide õhu kvaliteet.<br><audio src="./wav/Estonian_Female_Anu/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>India koroonapatsiendid on sunnitud haiglavoodeid jagama.<br><audio src="./wav/Estonian_Female_Anu/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Suurema osa oma elust veedab inimene paratamatult siseruumides, mistõttu on äärmiselt oluline ruumide õhu kvaliteet.<br><audio src="./wav/Estonian_Female_Anu/softspeech/TTS-Wave.1.wav" controls=""></audio><br>India koroonapatsiendid on sunnitud haiglavoodeid jagama.<br><audio src="./wav/Estonian_Female_Anu/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">Maltese Male</th>
      <td><audio src="./wav/male1/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/male1/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>L-ismijiet tal-ilwien fil-Malti jinqasmu fi tlieta.<br><audio src="./wav/Maltese_Male_Joseph/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>Anzjan weġġa' gravi wara li ttajjar f'Ħaż-Żabbar<audio src="./wav/Maltese_Male_Joseph/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>L-ismijiet tal-ilwien fil-Malti jinqasmu fi tlieta.<br><audio src="./wav/Maltese_Male_Joseph/softspeech/TTS-Wave.1.wav" controls=""></audio><br>Anzjan weġġa' gravi wara li ttajjar f'Ħaż-Żabbar<audio src="./wav/Maltese_Male_Joseph/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
    <tr>
      <th scope="row">Maltese Female</th>
      <td><audio src="./wav/male2/reference/TTS-Wave.1.wav" controls=""></audio><br><audio src="./wav/male2/reference/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Minn għada l-iskeda televiżiva ta' Television Malta se tkompli tingħata l-ħajja permezz ta’ għadd ta' xandiriet ġodda.<br><audio src="./wav/Maltese_Female_Grace/fastspeech2/TTS-Wave.1.wav" controls=""></audio><br>Il-baritonu Joseph Lia u martu, ir-Russa Natalia Rakjmatulina, ħassru diversi kunċerti fosthom fir-Russja.<br><audio src="./wav/Maltese_Female_Grace/fastspeech2/TTS-Wave.2.wav" controls=""></audio></td>
      <td>Minn għada l-iskeda televiżiva ta' Television Malta se tkompli tingħata l-ħajja permezz ta’ għadd ta' xandiriet ġodda.<br><audio src="./wav/Maltese_Female_Grace/softspeech/TTS-Wave.1.wav" controls=""></audio><br>Il-baritonu Joseph Lia u martu, ir-Russa Natalia Rakjmatulina, ħassru diversi kunċerti fosthom fir-Russja.<br><audio src="./wav/Maltese_Female_Grace/softspeech/TTS-Wave.2.wav" controls=""></audio></td>
    </tr>
  </tbody>
  </table>
</div>
